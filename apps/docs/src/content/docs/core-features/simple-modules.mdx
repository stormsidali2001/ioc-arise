---
title: Simple Modules
description: Organize code into modules with cross-module dependencies
sidebar:
  order: 2
---

## Step 1: Write Your Code

```typescript
// user/UserService.ts
export class UserService implements IUserService {
  constructor(private userRepo: IUserRepository) {}
  async createUser(name: string, email: string) { /* ... */ }
}

// todo/TodoService.ts
export class TodoService implements ITodoService {
  constructor(
    private todoRepo: ITodoRepository,
    private userRepo: IUserRepository  // Cross-module dependency!
  ) {}
  async createTodo(title: string, userId: string) { /* ... */ }
}
```

## Step 2: Configure Modules

```json
{
  "sourceDir": ".",
  "outputPath": "container.gen.ts",
  "modules": {
    "UserModule": ["user/**/*"],
    "TodoModule": ["todo/**/*"]
  }
}
```

## Step 3: Generate Container

```bash
npx @notjustcoders/ioc-arise generate
```

## Step 4: Generated Code

**`container.gen.ts`:**

```typescript
import { Container } from '@notjustcoders/di-container';
import type { ContainerRegistry } from './container.gen.d';
import { userModule } from './modules/userModule.module';
import { todoModule } from './modules/todoModule.module';

export const container = new Container<ContainerRegistry>();

container.registerModule(userModule);
container.registerModule(todoModule);
```

**`modules/todoModule.module.ts`:**

```typescript
import { ContainerModule, Lifecycle } from '@notjustcoders/di-container';
import { TodoService } from '../todo/TodoService';

export const todoModule = new ContainerModule()
  .register('ITodoService', {
    useClass: TodoService,
    dependencies: ['ITodoRepository', 'IUserRepository'],  // Cross-module!
    lifecycle: Lifecycle.Singleton
  });
```

## Step 5: Use It

```typescript
import { container } from './container.gen';

const userService = container.resolve('IUserService');
const todoService = container.resolve('ITodoService');
//    ^? ITodoService - Full type safety across modules!
```
