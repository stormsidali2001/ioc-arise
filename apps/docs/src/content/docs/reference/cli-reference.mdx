---
title: CLI Reference
description: Complete reference for IoC Arise CLI commands and options
sidebar:
  order: 1
---

import { Card, CardGrid, Badge, Tabs, TabItem } from '@astrojs/starlight/components';

<div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin: 1rem 0 2rem 0;">
  <Badge text="CLI Tool" variant="note" />
  <Badge text="Code Generation" variant="tip" />
  <Badge text="Analysis" variant="success" />
</div>

# CLI Reference

:::tip[üöÄ Quick Start]
Most projects just need: `npx @notjustcoders/ioc-arise`

The CLI automatically detects your project structure and generates everything!
:::

## Installation

<Tabs>
  <TabItem label="NPX (Recommended)">

```bash
# No installation needed! Run directly:
npx @notjustcoders/ioc-arise
```

‚úÖ Always uses latest version  
‚úÖ No global installation  
‚úÖ Perfect for CI/CD

  </TabItem>
  <TabItem label="Local (Dev Dependency)">

```bash
npm install -D @notjustcoders/ioc-arise
# or
pnpm add -D @notjustcoders/ioc-arise
```

Then add to `package.json`:
```json
{
  "scripts": {
    "generate:di": "ioc-arise"
  }
}
```

  </TabItem>
  <TabItem label="Global">

```bash
npm install -g @notjustcoders/ioc-arise
# or
pnpm add -g @notjustcoders/ioc-arise
```

Then use anywhere:
```bash
ioc-arise
```

  </TabItem>
</Tabs>

## Commands

### `generate` (Default)

:::note[‚ú® Main Command]
Analyzes your TypeScript code and generates a complete DI container with type declarations.
:::

```bash
npx @notjustcoders/ioc-arise [options]
# "generate" is the default command, so you can omit it!
```

#### Options Reference

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--source <dir>` | `-s` | Source directory to scan | `src` |
| `--output <file>` | `-o` | Output file path | `container.gen.ts` |
| `--interface <pattern>` | `-i` | Interface name pattern (regex) | `I[A-Z].*` |
| `--exclude <patterns...>` | `-e` | Exclude patterns for files | `[]` |
| `--check-cycles` | | Check circular deps only (no generation) | `false` |
| `--verbose` | | Enable verbose logging | `false` |

#### Common Examples

<Tabs>
  <TabItem label="Basic Usage">

```bash
# Simplest form - uses defaults
npx @notjustcoders/ioc-arise

# With custom source directory
npx @notjustcoders/ioc-arise --source ./app
```

  </TabItem>
  <TabItem label="Custom Output">

```bash
# Custom output location
npx @notjustcoders/ioc-arise \
  --source ./src \
  --output ./generated/di-container.ts
```

  </TabItem>
  <TabItem label="Filtering">

```bash
# Exclude test files
npx @notjustcoders/ioc-arise \
  --exclude "**/*.test.ts" "**/*.spec.ts" "**/mocks/**"

# Custom interface pattern
npx @notjustcoders/ioc-arise \
  --interface ".*Service$"
```

  </TabItem>
  <TabItem label="Validation Only">

```bash
# Check for circular dependencies without generating
npx @notjustcoders/ioc-arise --check-cycles

# Perfect for CI/CD pipelines!
```

  </TabItem>
</Tabs>

### `analyze`

:::tip[üîç Understand Your Architecture]
Lists all discovered classes, their dependencies, and detects circular dependencies **without generating code**.
:::

```bash
npx @notjustcoders/ioc-arise analyze [options]
```

#### Options

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--source <dir>` | `-s` | Source directory to scan | `src` |
| `--interface <pattern>` | `-i` | Interface name pattern (regex) | `I[A-Z].*` |
| `--exclude <patterns...>` | `-e` | Exclude patterns for files | `[]` |

#### Example Output

```bash
$ npx @notjustcoders/ioc-arise analyze

üìã Found 15 classes:

üì¶ UserService
   File: /src/user/UserService.ts
   Implements: IUserService
   Dependencies: IUserRepository, ILogger

üì¶ UserRepository
   File: /src/user/UserRepository.ts
   Implements: IUserRepository
   Dependencies: none

‚úÖ No circular dependencies detected!
```

**Use Cases:**
- üìä Review dependency graph
- üîç Debug dependency issues
- üìù Generate documentation
- ‚úÖ Validate architecture

### `visualize`

```bash
ioc-arise visualize [options]
```

#### Options

| Option                    | Short | Description                             | Default    |
| ------------------------- | ----- | --------------------------------------- | ---------- |
| `--source <dir>`          | `-s`  | Source directory to scan                | `src`      |
| `--interface <pattern>`   | `-i`  | Interface name pattern to match (regex) | `I[A-Z].*` |
| `--exclude <patterns...>` | `-e`  | Exclude patterns for files              | `[]`       |
| `--renderer <type>`       | `-r`  | Renderer type (console)                 | `console`  |

#### Examples

```bash
ioc-arise visualize
ioc-arise visualize --renderer console
ioc-arise visualize --source ./modules
```

## Configuration File

Create an `ioc.config.json` file in your project root:

```json
{
  "sourceDir": "./src",
  "outputPath": "./src/container.gen.ts",
  "interface": "I*.ts",
  "exclude": [
    "node_modules",
    "dist",
    "**/*.test.ts",
    "**/*.spec.ts"
  ],
  "modules": {
    "UserModule": ["user/**"],
    "TodoModule": ["todo/**"],
    "CoreModule": ["core/**"]
  }
}
```

### Configuration Options

| Option       | Type     | Description                                    | Default            |
| ------------ | -------- | ---------------------------------------------- | ------------------ |
| `sourceDir`  | string   | Source directory to analyze                    | `"./src"`          |
| `outputPath` | string   | Output file path for generated container       | `"container.gen.ts"` |
| `interface`  | string   | File pattern for interfaces                    | `"I*.ts"`          |
| `exclude`    | string[] | Patterns to exclude from analysis              | `[]`               |
| `modules`    | object   | Module groupings (optional)                    | `undefined`        |

## Interface Patterns

| Pattern         | Matches                            |
| --------------- | ---------------------------------- |
| `I[A-Z].*`      | `IUserService`, `IRepository`      |
| `.*Service$`    | `UserService`, `EmailService`      |
| `.*Repository$` | `UserRepository`, `TodoRepository` |

## Exclusion Patterns

```bash
ioc-arise generate --exclude "**/*.test.ts" "**/*.spec.ts"
ioc-arise generate --exclude "**/tests/**" "**/mocks/**"
ioc-arise generate --exclude "**/*.d.ts" "**/*.js"
```

## Package.json Scripts

```json
{
  "scripts": {
    "ioc:generate": "ioc-arise generate",
    "ioc:analyze": "ioc-arise analyze",
    "ioc:check": "ioc-arise generate --check-cycles"
  }
}
```

## Help

```bash
ioc-arise --help
ioc-arise generate --help
ioc-arise analyze --help
ioc-arise visualize --help
```
